import{l as i}from"./chunk-MQGUF25V.js";import{o as u,p as n}from"./chunk-WHNYGZCR.js";var F=(t=>(t.OuterBlockTurnMetric="OBTM",t.RangeBlockTurnMetric="RBTM",t.SingleSliceTurnMetric="SSTM",t.OuterBlockQuantumTurnMetric="OBQTM",t.RangeBlockQuantumTurnMetric="RBQTM",t.SingleSliceQuantumTurnMetric="SSQTM",t.ExecutionTurnMetric="ETM",t))(F||{}),T=(t=>(t.QuantumTurnMetric="OBQTM",t.HandTurnMetric="OBTM",t.SliceTurnMetric="RBTM",t))(T||{});function A(t){return t.endsWith("v")||["x","y","z"].includes(t)?"Rotation":t.startsWith("2")||["M","E","S"].includes(t)?"Inner":"Outer"}var a;function d(){if(a)return a;a={};let t=[...Object.keys(i.moves),...Object.keys(i.derivedMoves)];for(let r of t)a[r]=A(r);return a}var v={OBTM:{Rotation:{constantFactor:0,amountFactor:0},Outer:{constantFactor:1,amountFactor:0},Inner:{constantFactor:2,amountFactor:0}},RBTM:{Rotation:{constantFactor:0,amountFactor:0},Outer:{constantFactor:1,amountFactor:0},Inner:{constantFactor:1,amountFactor:0}},OBQTM:{Rotation:{constantFactor:0,amountFactor:0},Outer:{constantFactor:0,amountFactor:1},Inner:{constantFactor:0,amountFactor:2}},RBQTM:{Rotation:{constantFactor:0,amountFactor:0},Outer:{constantFactor:0,amountFactor:1},Inner:{constantFactor:0,amountFactor:1}},ETM:{Rotation:{constantFactor:1,amountFactor:0},Outer:{constantFactor:1,amountFactor:0},Inner:{constantFactor:1,amountFactor:0}}};function B(t,r){let e=v[t];if(!e)throw new Error(`Invalid metric for 3x3x3: ${t}`);let s=d(),c=r.quantum.toString();if(!(c in s))throw new Error(`Invalid move for 3x3x3 ${t}: ${c}`);let m=s[c],{constantFactor:f,amountFactor:g}=e[m];return f+g*Math.abs(r.amount)}var o=class extends u{constructor(t){super(),this.metric=t}traverseAlg(t){let r=0;for(let e of t.childAlgNodes())r+=this.traverseAlgNode(e);return r}traverseGrouping(t){let r=t.alg;return this.traverseAlg(r)*Math.abs(t.amount)}traverseMove(t){return this.metric(t)}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 0}traverseNewline(t){return 0}traverseLineComment(t){return 0}},x=class extends u{traverseAlg(t){let r=0;for(let e of t.childAlgNodes())r+=this.traverseAlgNode(e);return r}traverseGrouping(t){let r=t.alg;return this.traverseAlg(r)*Math.abs(t.amount)}traverseMove(t){return 1}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 1}traverseNewline(t){return 1}traverseLineComment(t){return 1}};function l(t){return"A"<=t&&t<="Z"}function M(t){let r=t.family;return l(r[0])&&r[r.length-1]==="v"||r==="x"||r==="y"||r==="z"||r==="T"?0:1}function p(t){return 1}function h(t){let r=t.family;return l(r[0])&&r[r.length-1]==="v"||r==="x"||r==="y"||r==="z"||r==="T"?0:1}function R(t){return Math.abs(t.amount)*h(t)}var k=n(o,[M]),O=n(o,[p]),w=n(o,[R]),S=n(o,[h]),E=n(x,[M]);function N(t,r,e){if(t.id==="3x3x3"){if(r in v)return n(o,[s=>B(r,s)])(e)}else switch(r){case"ETM":return O(e);case"RBTM":{if(t.pg)return S(e);break}case"RBQTM":{if(t.pg)return w(e);break}}throw new Error("Unsupported puzzle or metric.")}var I=class extends u{traverseAlg(t){let r=0;for(let e of t.childAlgNodes())r+=this.traverseAlgNode(e);return r}traverseGrouping(t){return this.traverseAlg(t.alg)*Math.abs(t.amount)}traverseMove(t){return 1}traverseCommutator(t){return 2*(this.traverseAlg(t.A)+this.traverseAlg(t.B))}traverseConjugate(t){return 2*this.traverseAlg(t.A)+this.traverseAlg(t.B)}traversePause(t){return 1}traverseNewline(t){return 0}traverseLineComment(t){return 0}},_=n(I);export{F as a,T as b,k as c,O as d,E as e,N as f,_ as g};
